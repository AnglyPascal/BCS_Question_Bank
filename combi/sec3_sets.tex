\newpage\section{Sets}


\subsection{Lemmas}


\lem{}{\label{lemma:sets_lemma_1}
    Let $ S $ be a set with $ n $ elements, and let $ F $ be a family of
    subsets of S such that for any pair $ A, B $ in $ F $, $ A \cap B \not=
    \varnothing $. Then $ |F| \leq 2^{n-1} $ .
}

% \begin{enumerate}
%     \iref{lemma:sets_lemma_1_1}{Iran TST 2008 D3P1}{}
% \end{enumerate}


\theo{https://en.wikipedia.org/wiki/Erdos-Ko-Rado_theorem}{Erdos Ko Rado theorem}{
    Suppose that $ A $ is a family of distinct subsets of $\{ 1 , 2 \dots n
    \}$ such that each subset is of size $ r $ and each pair of subsets has a
    nonempty intersection, and suppose that $ n \geq 2r $. Then the number of
    sets in $ A $ is less than or equal to the binomial coefficient \[\binom
    {n-1}{r-1}\]
}


\lem{}{Let $ S $ be a set with $ n $ elements, and let $ F $ be a family of subsets of $ S $ such that for any pair $ A, B $ in $ F $, $ S $ is not contained by $ A \cup B $. Then $ |F| \leq 2^{n-1} $.}\label{lemma:sets_lemma_2}



\lem{Kleitman lemma}{A set family $F$ is said to be downwards closed if the following holds: if $X$ is a set in $F$, then all subsets of $X$ are also sets in $F$. Similarly, $F$ is said to be upwards closed if whenever $X$ is a set in $F$, all sets containing $X$ are also sets in $F$. Let $F_1$ and $F_2$ be downwards closed families of subsets of $S = \{1, 2, ..., n\}$, and let $F_3$ be an upwards closed family of subsets of $S$. Then we have

    \begin{align}
        |F_1 \cap F_2| &\geq \frac{|F_1| \cdot |F_2|}{2^n}\\
        |F_1 \cap F_3| &\leq \frac{|F_1| \cdot |F_3|}{2^n} 	 
\end{align}}\label{lemma:sets_lemma_3_Kleitman}



\lem{}{Let $ S $ be a set with $ n $ elements, and let $ F $ be a family of subsets of $ S $ such that for any pair $ A, B $ in $ F $, $ A \cap B \not= \varnothing $ and $ A \cap B \not= S $. Then $ |F| \leq 2^{n-2} $.}\label{lemma:sets_lemma_4}

\solu{
    Using the sets in \autoref{lemma:sets_lemma_1} and
    \autoref{lemma:sets_lemma_1}, defining upwards and downwards sets like in
    \autoref{lemma:sets_lemma_3_Kleitman}.
}



\theo{https://www.wikiwand.com/en/Sunflower_(mathematics)}
{The Sunflower Lemma}{
    A \textbf{sunflower} with $ k $ petals and a core $ X $ is a family of sets $ S_1,
    S_2,\dots, S_k $ such that $ S_i\cap S_j = X $ for each $ i \neq j $. (The
    reason for the name is that the Venn diagram representation for such a
    family resembles a sunflower.) The sets $ S_i \setminus X $ are known as
    petals and must be nonempty, though $ X $ can be empty. \\

    Show that if $ F $ is a family of sets of cardinality $ s $, and $ |F| >
    s!(k-1)^s $, then $ F $ contains a sunflower with $ k $ petals.
}\label{problem:induction_type1_20}\label{problem:extreme_object_10}


\solu{Applying induction and considering the best case where $ |X|=0 $}


\subsection{Extremal Set Theory}

\begin{myitemize}
    \item \href{http://math.mit.edu/~cb_lee/18.318/lecture8.pdf}{MIT 18.314 Lecture-8}
\end{myitemize}


\theo{}{Mirsky Theorem}{A set $ S $ with a chain of height $ h $ can’t be partitioned into $ t $ anti-chains if $ t < h $. In other words, the minimum number of sets in any anti-chain partition of $ S $ is equal to the maximum height of the chains in $ S $. (And Vice Versa)}\label{theorem:mirsky_theorem}


\theo{}{}{In any poset, the largest cardinality of an antichain is at most the smallest cardinality of a chain-decomposition of that poset.}


\theo{}{Dilworth's Theorem}{Let $ P $ be a poset. Then there exist an antichain $ A $ and a chain decomposition $ \mathcal{C} $ of $ P $ such that $ |A| = |\mathcal{C}| $}



\theo{http://mathworld.wolfram.com/Erdos-SzekeresTheorem.html}{Erdos-Szekeres Theorem}{Any sequence of $ ab+1 $ real numbers contains either a monotonically decreasing subsequence of length $ a+1 $ or a monotonically increasing subsequence of length $ b+1 $. The more useful case is when $ a=b=n $. }



\prob{}{}{E}{Let $ n\ge 1 $ be an integer and let $ X $ be a set of $ n^2+1 $ positive integers such that in any subset of $ X $ with $ n+1 $ elements there exist two elements $ x\neq y $ such that $ x|y $. Prove that there exists a subset $ \{x_1, x_2\dots x_{n+1} \in X $ such that $ x_i|x_{i+1} $ for all $ i=1, 2, \dots n $.}


\den{Sperner Family}{
    A family of sets in which none of the sets is a strict subset of another
    is called a \textbf{Sperner family}, that is, an antichain of sets.
}


\theo{https://www.wikiwand.com/en/Lubell–Yamamoto–Meshalkin_inequality}
{LYM Inequality}{
    Let $U$ be a set of $n$ elements and $\mathcal{S}$ is a Sperner family of
    subsets of $U$. If $a_k$ is the number of $k$ element subsets of
    $\mathcal{S}$, then
    \[\impeq{\sum^{n}_{k=0}\frac{a_k}{{n \choose k}}\le 1}\] 
}

\begin{prooof}
    Rewrite the inequality by 
    \[\sum^{n}_{k=0} a_k k!(n-k)! \le n!\]
    The left hand side equals to 
    \[\sum^{}_{S\in \mathcal{S}} \left|S\right|!
    \left(n-\left|S\right|\right)!\] 
    For a $S \in \mathcal{S}$, $\left|S\right|!\left(n-\left|S\right|\right)!$
    is the number of permutations of $[n]$ for which the first
    $\left|S\right|$ terms are the elements of $S$. Since the sets of
    $\mathcal{S}$ doesn't include each other, all of these permutations are
    different. And so if we count them together, we will get at most all the
    permutatios of $[n]$, which gives us our desired result.
\end{prooof}


\theo{https://www.wikiwand.com/en/Sperner's_theorem}
{Sperner's Theorem}{
    Sperner's theorem bounds the number of sets in any Sperner family. For any
    Sperner Family $\mathcal{S}$, if the union of those sets is a set of $n$
    elements, then 
    \[\left|\mathcal{S}\right|< {n \choose \left\lfloor n/2 \right\rfloor}\] 
    Where equality holds iff $\mathcal{S}$ is consisted of all subsets of
    $[n]$ with $\left\lfloor n/2 \right\rfloor$ or $\left\lceil
    n/2  \right\rceil $ elements.
}

\begin{prooof}
    Let $a_k$ be the number of $k$ element subsets of $\mathcal{S}$. Then
    since ${n\choose \left\lfloor n/2\right\rfloor} \le {n\choose k}$, we have
    \[\frac{a_k}{{n \choose \left\lfloor n/2\right\rfloor}} \le
    \frac{a_k}{{n\choose k}}\] 
    And since the sets doesn't contain each other, we can sum them up and by
    \autoref{theorem:LYM Inequality}, we get
    \[\sum^{n}_{k=0} \frac{a_k}{{n\choose \left\lfloor
    n/2\right\rfloor}} \le \sum^{n}_{k=0} \frac{a_k}{{n\choose k}} \le 1\] 
\end{prooof}





\newpage
\subsection{Problems}

\prob{https://artofproblemsolving.com/community/c6h148835p841269}{USA TST 2005 P1}{E}{
    Let $ n $ be an integer greater than $ 1 $. For a positive integer
    $ m $ , let $ S_{m}= \{ 1,2,\ldots, mn\} $. Suppose that there exists a $
    2n $ -element set $ T $ such that

    \begin{enumerate}
        \item each element of $ T $ is an $ m $ -element subset of $ S_{m} $
        \item each pair of elements of $ T $ shares at most one common element
        \item each element of $ S_{m} $ is contained in exactly two elements of $ T $
    \end{enumerate}

Determine the maximum possible value of $ m $ in terms of $ n$.
\index[cat]{Sets!Max-set with property!USA TST 2005 P1}
\index[strat]{Double Counting!USA TST 2005 P1}
}
\label{problem:double_counting_5}

\solu{We use double counting to find the ans, after that the rest is easy.}





\prob{https://artofproblemsolving.com/community/c6h206650p1136980}{Iran TST 2008 D3P1}{E}{
    Let $S$ be a set with $n$ elements, and $F$ be a family of subsets of $S$ with
    $ 2^{n-1}$ elements, such that for each $A,B,C\in F$, $A\cap B\cap C$ is not
    empty. Prove that the intersection of all of the elements of $F$ is not empty.

    \index[cat]{Sets!Local!Iran TST 2008 D3P1}
    \index[strat]{Induction!Iran TST 2008 D3P1}
}\label{lemma:sets_lemma_1_1}\label{problem:induction_type1_18}

\solu{Using Induction with \hrf{lemma:sets_lemma_1}{this} lemma.}




\prob{https://artofproblemsolving.com/community/c6t309f6h1538018}{Romanian TST
2016 D1P2}{EM}{
Let $n$ be a positive integer, and let $S_1, S_2,\dots S_n$ be
a collection of finite non-empty sets such that 
\[\sum_{1\leq i<j\leq n}{\frac{|S_i \cap S_j|}{|S_i||S_j|}} <1\]

Prove that there exist pairwise distinct elements $x_1, x_2\dots x_n$ such that $x_i$ is a member of $S_i$ for each index $i$.

\index[cat]{Sets!Local!Romanian TST 2016 D1P2}
\index[strat]{Focus!Romanian TST 2016 D1P2}
\index[strat]{Induction!Romanian TST 2016 D1P2}
}
\label{problem:induction_type1_25}\label{problem:forget_and_focus_7}

\solu{The Inductive proof reduces the problem to
    \hrf{problem:induction_type1_26}{American Mathematical Monthly problem
E2309}}

\solu{The other approach is to focus on the given weird condition, and interpolate it to something nice, like probabilistic condition.}



\prob{https://artofproblemsolving.com/community/c6h225275p1252232}{American Mathematical Monthly E2309}{EM}{If $ A_1$, $ A_2$,\dots $ A_n$ are $ n$ nonempty subsets of the set $ \left\{1,2,...,n - 1\right\}$, then prove that

\[\sum_{1\leq i < j\leq n}\frac {\left|A_i\cap A_j\right|}{\left|A_i\right|\cdot\left|A_j\right|}\geq 1\]

\index[cat]{Sets!Subsets of $[N]$!American Mathematical Monthly E2309}
}
\label{problem:induction_type1_26}



\prob{https://artofproblemsolving.com/community/c6h362426p1986928}{CGMO 2010
    P1}{E}{Let $n$ be an integer greater than two, and let $A_1,A_2, \cdots ,
    A_{2n}$ be pairwise distinct subsets of $\{1, 2, \dots n\}$. Determine the maximum
    value of
    \[\sum_{i=1}^{2n} \dfrac{|A_i \cap A_{i+1}|}{|A_i| \cdot |A_{i+1}|}\]
    Where $A_{2n+1}=A_1$ and $|X|$ denote the number of elements in $X.$

    \index[cat]{Sets!Subsets of $[N]$!CGMO 2010 P1}
}



\prob{https://artofproblemsolving.com/community/c6h17340p119108}{ISL 2002 C5}{M}{
    Let $r\geq2$ be a fixed positive integer, and let $F$ be an infinite
    family of sets, each of size $r$, no two of which are disjoint. Prove that
    there exists a set of size $r-1$ that meets each set in $F$.

\href{https://artofproblemsolving.com/community/c6h17340p7934669}{HMMT 2016
Team Round}:
    Fix positive integers $r>s$, and let $\mathcal F$ be an infinite
    family of sets, each of size $r$, no two of which share fewer than $s$
    elements. Prove that there exists a set of size $r-1$ that shares at least $s$
    elements with each set in $F$.

\index[cat]{Sets!Local!ISL 2002 C5}
\index[strat]{Induction!ISL 2002 C5}
\index[strat]{Focus!ISL 2002 C5}
\index[strat]{Adding new stuffs!ISL 2002 C5}

}\label{problem:induction_type1_31}




\solu{[Focus on a set] If we take an arbitrary set, we can say that there
exists infinitely many sets $ \in \mathbb{F} $ which includes a fixed element
from our test set. If we do this argument for $ r-1 $ times, we get a set $ X
$ of $ r-1 $ elements, and an infinte family of sets that contains $ X $
completely. At this point the problem is trivial.}


\solu{[Adding Elements]Since it's tricky to work with one family, why not introduce another family, like the second monk. \hrf{http://artofproblemsolving.com/community/c6h17340p3251745}{This} solution generalizes the problem as such.}


\prob{https://artofproblemsolving.com/community/c6h57290p352698}{ISL 1988 P10}{M}{
    Let $ N = \{1,2 \ldots, n\}, n \geq 2. $ 

    A collection $ F = \{A_1, \ldots,A_t\} $ of subsets 
    $ A_i \subseteq N, $  $ i = 1, \ldots, t, $ is said to be
    \textbf{separating}, if for every pair $ \{x,y\} \subseteq N, $ there is a set $ A_i
    \in F $ so that $ A_i \cap \{x,y\} $ contains just one element. 

    $ F $ is said to be \textbf{covering}, if every element of $ N $ is contained 
    in at least one set $ A_i \in F. $ 

    What is the smallest value $ f(n) $ of $ t, $ so there is a set $
    F = \{A_1, \ldots, A_t\} $ which is simultaneously separating and covering.

    \index[cat]{Sets!Subsets of $[N]$!ISL 1988 P10}
    \index[strat]{Bijection!Binary Representation!ISL 1988 P10}
} \label{problem:binary_2}


\solu{[Binary Representation]Using \hrf{binary}{Binary} Representations for the elements as in or not in, we get an easy bijection.}



\prob{https://artofproblemsolving.com/community/c6h530095p3024272}{Iran TST 2013 D1P2}{E}{
    Find the maximum number of subsets from $\left \{ 1,...,n \right \}$ such
    that for any two of them like $A,B$ if $A\subset B$ then $\left | B-A
    \right |\geq 3$. (Here $\left | X \right |$ is the number of elements of
    the set $X$.)
    \index[cat]{Sets!Max-set with property!Iran TST 2013 D1P2}
    \index[strat]{Roots of unity filtering!Iran TST 2013 D1P2}
    \index[strat]{Induction!$n$ is or isn't!Iran TST 2013 D1P2}
}


\solu{By partitioning the maximum set of subsets into groups which contain the number $n$ and which don't and \href{induction}{Induction} on $n$ we can show that the maximum number of subset is
\[\frac{2^{n}-(-1)^{n}}{3}\]. }

\prob{https://artofproblemsolving.com/community/c7h64445p383300}{Putnam 2005 B4}{E}{For positive integers $ m$ and $ n$, let $f\left(m,n\right)$ denote the number of $ n$-tuples $\left(x_1,x_2,\dots,x_n\right)$ of integers such that $\left|x_1\right| + \left|x_2\right| + \cdots + \left|x_n\right|\le m$. Show that $ f\left(m,n\right) = f\left(n,m\right)$.}



\solu{Try to show \href{bijection}{Bisection} between the result and choosing $m$ or $n$ objects from $m+n$ objects or show that the result is $\binom{m+n}{n}$.}


\newpage
\subsection{Hamming Distance}


\begin{myitemize}
    \item \href{https://dgrozev.wordpress.com/2019/11/09/hamming-distance-in-olympiad-problems/} {Blogpost by dgrozev}
\end{myitemize}

\vspace{1em}

\den{Hamming Distance}{
    The Hamming distance between two equal-length strings of symbols is the
    number of positions at which the corresponding symbols are different.
}

Occasionally we might be able to use the idea of Hamming distance to
``partition'' a set into sets of equivalence classes. For example consider the
following problem:

\prob{}
{}{}{
    Suppose we have some real numbers $\left(x_{n}\right), n=1,2, \ldots, N$
    and consider the sums
    \[ \sum_{i=1}^{N} b_{i} x_{i},\quad b_{i} \in\{0,1\}\]
    We want to estimate how many among those sums hit a fixed interval
    $\Delta$ with some length.

    \index[strat]{Hamming distance}
}

\begin{solution}
    Suppose a sum $\sum_{i=1}^{N} b_{i} x_{i}$ is inside $\Delta$. \\

    Then changing any bit $b_{i}, i=1,2, \ldots, N$ we leave $\Delta$ if this
    interval is smaller than the largest $\left|x_{i}\right|, i \in[1 \ldots
    N]$.\\

    So, for any $N$ -tuple of bits $b=\left(b_{1}, b_{2}, \ldots,
    b_{N}\right)$ with corresponding sum in $\Delta$, all the other tuples of
    bits that differ from $b$ in exactly one bit have sums outside $\Delta$.\\

    In fact the set of those bits is the unit sphere around $b$ with respect
    to the Hamming distance. So no other set on this sphere has the sum in
    $\Delta$.\\

    Now, we take the set $B$ of all tuples $b=\left(b_{1}, b_{2}, \ldots,
    b_{N}\right)$ with $\sum_{i=1}^{N} b_{i} x_{i} \in \Delta$. Then for any $b
    \in B$ the unit sphere 
    {\color{solC} \[S(b):=\left\{b^{\prime}: b^{\prime} \text{differs from } b
    \text{ in exactly one bit}\right\}\]}
    consists of tuples not in $B$. If it happens for $b \in B$, $S(b)$ are
    disjoint, we can estimate the number of elements in $B$ as
    \[ |B| \leq \frac{2^{N}}{N+1} \]
\end{solution}

\newpage
\prob{https://artofproblemsolving.com/community/c6h1946999p13424041}
{CIIM 2019 P3}{M}{
    Let $\{x_n\}_{n\in{}\mathbb{N}}$ be a sequence of non-zero real numbers.
    For every positive integer $m$, we define:
    \[X_m=\left\{A\subseteq{}\{0,1,...,m-1\}\left|\quad\left|\sum_{a\in{A}}
    x_a\right| >\frac{1}{m}\right.\right\}\]
    Prove that: \[\lim_{n\to\infty} \frac{\vert{}X_n\vert{}}{2^n}=1\]

    \index[strat]{Hamming distance!CIIM 2019 P3}
}

\begin{Remark}
    The idea roughly speaking is as follows.

    {\color{impC}For sufficiently large $m$ we map each $A$ having small sum $\sum_{a\in
    A}x_a$ to a family $F(A)$ of many other sets with big sums.} If those
    families do not intersect, we obtain that the number of $A$'s with small
    sums is a small portion of the all subsets. 

    The vague idea is to mark some finite set of distinct elements
    $x_n$ and for a fixed set $A$ we may add or remove any marked element,
    depending if it's in $A$ or not. Thus we obtain another sets, but those
    sets cannot have small sums if the marked elements are appropriately
    taken.
\end{Remark}

\begin{solution}[dgrozev]
    To apply this idea we consider two cases.\\

    \boxed{\textbf{1.}} There are infinitely many distinct numbers among
    $(x_n)_{n\ge 0}$. \\

    Let us fix some $N\in\mathbb{N}$ and $I$ be a set of $N$ non negative
    integers (indices) such $x_i, i\in I$ are all distinct. Denote by
    $\varepsilon$ any positive real number less than $\min \left\{|x_i-x_j|,\
    |x_i|\right\}, i, j\in I$. \\

    We take any $m$ large enough such that $2/m<\varepsilon$ and $m>\max\{i\in
    I\}$. Let $A$ is any subset of $\{0,1,\dots,m\}$ satisfying

    \begin{align*}
        \left|\sum_{a\in A}x_a\right |\leq \frac{1}{m}\qquad\qquad (1) 
    \end{align*}
    For any $i\in I$ we construct the set $A_i$ as
    \[A_i:=\begin{cases} A\cup {i}& \text{if } i\not\in A\\
    A\setminus\{i\}&\text{if } i\in A \end{cases} \]
    It can be easily seen
    \[\displaystyle \left|\sum_{a\in A_i}x_a\right |> \frac{1}{m}\,,\,\forall
    i\in I\]

    By $F(A)$ we denote the family $\{A_i:i\in I\}$. For any two subsets $A,B$
    of $\{0,1,\dots,m\}$ satisfying $(1)$, {\color{impC}the corresponding families $F(A),
    F(B)$ do not meet}.\\

    Indeed, if $X\in F(A)$ and $X\in F(B)$, then $X$
    differs from $A, B$ only in one element of $I$. That is, $A$
    differs from $B$ only in two elements that are in $I$. Hence,
    \[\left|\sum_{a\in A}x_a-\sum_{a\in B}x_a\right|>2/m\]
    because of the choice of $m$. It means $A$ and $B$ cannot both satisfy
    $(1)$.\\

    To recap. Let $\mathcal{A}$ be the family of all subsets $A$ of $\left\{0,
    1,\dots m-1\right\}$ satisfying $(1)$. Then for any $A\in\mathcal{A}$ all
    sets in $F(A)$ are not in $\mathcal{A}$. Further, $F(A), A\in \mathcal{A}$
    are disjoint. Since $|F(A)|=N,\forall A\in\mathcal{A}$, we have
    \[|\mathcal{A}|\leq \frac{2^m}{N+1}\]and henceh
    \[\displaystyle \frac{|X_m|}{2^m}\geq \frac{N}{N+1}\]
    Since $N$ could be chosen arbitrary large, the result follows.\\

    \boxed{\textbf{2.}} Only finite values of $(x_n)_{n\ge 0}$ are distinct.\\

    So, suppose $x_n=a$ for infinitely many $n\in \mathbb{N}$. Let $I$ be a
    finite set of such indices with $|I|=N$ and $m\in \mathbb{N}$ satisfies
    $2/m<|a|$ and $m\geq \max\{i:i\in I\}$. For any fixed subset $A\subset
    [0..m]\setminus I$ there exists at most one $k\in\mathbb{N}$ with
    $\left|\sum_{i\in A}x_i+ka\right|\leq \frac{1}{m}$. Hence the number of
    subsets $A'\subset I$ with $\left|\sum_{i\in A\cup A'}x_i+ka\right|\leq
    \frac{1}{m}$ are at most $\dbinom{N}{\lfloor N/2\rfloor}$.\\

    It means the number of sets $A\subset [0..m]$ satisfying $(1)$ are at most
    $2^{m-N}\dbinom{N}{\lfloor N/2\rfloor}$, thus
    \[\displaystyle \frac{|X_m|}{2^m}\geq 1-\frac{\lfloor N/2\rfloor}{2^N}\]
    which proves the desired result.
\end{solution}

\begin{solution}[Sperner's theorem, IMD2]
    We call a subset ``bad'' if it doesn't satisfy the inequality.\\

    Now fix an integer $N$. Let $m$ be an integer such that 
    \[\frac{2}{m}< \min \left\{\left|x_1\right|, \left|x_2\right|\dots
    \left|x_N\right|\right\}\] 
    WLOG assume that there are as many positives in the first $N$ terms as
    there are negatives. Let $P$ be the positive elements subset of
    $\left\{x_1, x_2\dots x_N\right\}$.\\

    Define $S = \left\{x_1, x_2, \dots x_m\right\} - P$. Then every subset of
    the first $m$ terms can be written as ${A, B}$, where $A\subseteq P,
    B\subseteq S$ and the subset is $A\cup B$. \\

    Using this notation, notice that if $A\subset A' \subseteq P$, then both
    ${A, B}$ and ${A', B}$ can't be bad, because of our choice of $m$. So for
    a fixed $B\subseteq S$, the largest family of subsets of $P$ is a
    \emph{Sperner Family} of $P$. Which by Sperner's theorem has size at most
    \[t_p = {\left|P\right| \choose \left\lfloor\left|P\right|/2\right\rfloor}\] 
    So the probability of a subset of $\left\{x_1, x_2,\dots x_m\right\}$
    being bad is $\frac{t_p}{2^p}$, which tends to $0$ for larger choice of
    $N$.
\end{solution}
